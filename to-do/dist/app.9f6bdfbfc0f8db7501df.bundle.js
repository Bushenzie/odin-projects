(()=>{"use strict";var e={d:(t,o)=>{for(var i in o)e.o(o,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:o[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(){this.projects=document.querySelector(".sidebar > .projects"),this.sidebar=document.querySelector(".sidebar"),this.listAll=document.querySelectorAll(".sidebar > .projects > ul > li"),this.highPriorityBar=document.querySelector(".sidebar > .projects > ul > .project-item.high"),this.mediumPriorityBar=document.querySelector(".sidebar > .projects > ul > .project-item.medium"),this.lowPriorityBar=document.querySelector(".sidebar > .projects > ul > .project-item.low"),this.projectName=document.querySelector(".mainWindow > .head > .project > .project-name"),this.highContent=document.querySelector(".mainWindow > .content > .high-priority"),this.mediumContent=document.querySelector(".mainWindow > .content > .medium-priority"),this.lowContent=document.querySelector(".mainWindow > .content > .low-priority"),this.deleteProject_button=document.querySelector(".mainWindow > .head > .options > .delete"),this.addTodo_button=document.querySelector(".mainWindow > .head > .options > .add"),this.modals=document.querySelector(".modals"),this.highWarning=document.querySelector(".mainWindow > .content > .high-priority > p.warning"),this.mediumWarning=document.querySelector(".mainWindow > .content > .medium-priority > p.warning"),this.lowWarning=document.querySelector(".mainWindow > .content > .low-priority > p.warning"),this.hCount=document.querySelector(".sidebar > .projects > ul > li.project-item > .hCount"),this.mCount=document.querySelector(".sidebar > .projects > ul > li.project-item > .mCount"),this.lCount=document.querySelector(".sidebar > .projects > ul > li.project-item > .lCount"),this.hamburger=document.querySelector(".sidebar > .head > .project-ham")}e.d({},{zW:()=>u,VU:()=>b,Mz:()=>y,cU:()=>h,L6:()=>g,EB:()=>v}),t.prototype.Load=function(e){switch(e){case"add":this.projectTodoAdd={modal:document.querySelector(".project-add-item-modal"),background:document.querySelector(".project-add-item-modal > .background"),add:document.querySelector(".project-add-item-modal > .window > .buttons > button.add"),close:document.querySelector(".project-add-item-modal > .window > .buttons > button.close"),inputValue:document.querySelector(".project-add-item-modal > .window > .choices > #project-input").value};break;case"rename":this.projectRename={modal:document.querySelector(".project-rename-modal"),background:document.querySelector(".project-rename-modal > .background"),rename:document.querySelector(".project-rename-modal > .window > .buttons > button.rename"),close:document.querySelector(".project-rename-modal > .window > .buttons > button.close"),inputValue:document.querySelector(".project-rename-modal > .window > .choices > #project-input").value}}};const o=new t;let i;class n{constructor(){localStorage.getItem("todos")?this.todos=JSON.parse(localStorage.getItem("todos")):(this.todos=[],localStorage.setItem("todos",JSON.stringify(this.todos)))}Save(e,t,o){let i={id:e,name:t,priority:o};this.todos.push(i),localStorage.setItem("todos",JSON.stringify(this.todos))}LoadALLTODOs(e){let t=JSON.parse(localStorage.getItem("todos"));for(let o=0;o<t.length;o++)t[o].priority===e&&u.AddTODO(t[o].id,t[o].name,t[o].priority)}Remove(e,t,o){let i=JSON.parse(localStorage.getItem("todos"));for(let n=0;n<i.length;n++)i[n].priority===o&&i[n].id===e&&i[n].name===t&&i.splice(n,1);localStorage.setItem("todos",JSON.stringify(i))}Rename(e,t,o,i){let n=JSON.parse(localStorage.getItem("todos"));for(let d=0;d<n.length;d++)n[d].priority===o&&n[d].id===e&&n[d].name===t&&(n[d].name=i);localStorage.setItem("todos",JSON.stringify(n))}}function d(e){let t=0,o=0,i=0,n=JSON.parse(localStorage.getItem("todos"));for(let d=0;d<n.length;d++)n[d].priority===e&&("high"===n[d].priority&&t++,"medium"===n[d].priority&&o++,"low"===n[d].priority&&i++);return"high"===e?t:"medium"===e?o:"low"===e?i:void 0}const r=new t,a=new class{CreateModal(e,t){switch(e){case"add-item":i=document.createElement("div"),i.classList.add("project-add-item-modal"),i.classList.add("modal"),i.innerHTML='\n                <div class="background"></div>\n                <div class="window">\n                <h2 class="heading">Add TO-DO Item</h2>\n                <div class="choices">\n                    <input type="text" id="project-input" placeholder="TODO">\n                </div>\n                <div class="buttons">\n                    <button class="btn add">ADD</button>\n                    <button class="btn close">CANCEL</button>\n                </div>\n                </div>',o.modals.appendChild(i);break;case"rename":let e=t.split("-").join("&ensp;");i=document.createElement("div"),i.classList.add("project-add-item-modal"),i.classList.add("project-rename-modal"),i.classList.add("modal"),i.innerHTML=`\n                <div class="background"></div>\n                <div class="window">\n                <h2 class="heading">Rename</h2>\n                <div class="choices">\n                    <input type="text" id="project-input" placeholder="TODO" value=${e}>\n                </div>\n                <div class="buttons">\n                    <button class="btn rename">RENAME</button>\n                    <button class="btn close">CANCEL</button>\n                </div>\n                </div>`,o.modals.appendChild(i)}}DeleteModal(){i.remove()}},s=new n;let l="high",c=!1;const m=new t,u=new class{constructor(){r.highPriorityBar.addEventListener("click",(()=>{r.projectName.textContent="High Priority",l="high",r.listAll.forEach((e=>e.classList.remove("selected"))),r.highPriorityBar.classList.add("selected"),r.highContent.classList.contains("not-visible")&&r.highContent.classList.remove("not-visible"),r.mediumContent.classList.add("not-visible"),r.lowContent.classList.add("not-visible")})),r.mediumPriorityBar.addEventListener("click",(()=>{r.projectName.textContent="Medium Priority",l="medium",r.listAll.forEach((e=>e.classList.remove("selected"))),r.mediumPriorityBar.classList.add("selected"),r.mediumContent.classList.contains("not-visible")&&r.mediumContent.classList.remove("not-visible"),r.highContent.classList.add("not-visible"),r.lowContent.classList.add("not-visible")})),r.lowPriorityBar.addEventListener("click",(()=>{r.projectName.textContent="Low Priority",l="low",r.listAll.forEach((e=>e.classList.remove("selected"))),r.lowPriorityBar.classList.add("selected"),r.lowContent.classList.contains("not-visible")&&r.lowContent.classList.remove("not-visible"),r.highContent.classList.add("not-visible"),r.mediumContent.classList.add("not-visible")})),r.addTodo_button.addEventListener("click",(()=>{a.CreateModal("add-item"),r.Load("add"),r.projectTodoAdd.background.addEventListener("click",(()=>{a.DeleteModal()})),r.projectTodoAdd.close.addEventListener("click",(()=>{a.DeleteModal()})),r.projectTodoAdd.add.addEventListener("click",(()=>{r.Load("add"),""!==r.projectTodoAdd.inputValue&&("high"===l&&(s.Save(h,r.projectTodoAdd.inputValue,l),this.AddTODO(h,r.projectTodoAdd.inputValue,l)),"medium"===l&&(y(),s.Save(v,r.projectTodoAdd.inputValue,l),this.AddTODO(v,r.projectTodoAdd.inputValue,l)),"low"===l&&(y(),s.Save(g,r.projectTodoAdd.inputValue,l),this.AddTODO(g,r.projectTodoAdd.inputValue,l)),b(),y(),r.warningText&&r.warningText.remove(),a.DeleteModal())}))})),r.hamburger.addEventListener("click",(()=>{c?(r.projects.style.display="none",r.sidebar.style.height="5%",c=!1):(r.projects.style.display="block",r.sidebar.style.height="27.5%",c=!0)}))}AddTODO(e,t,o){let i=document.createElement("div"),n=t.replace(/[^A-Za-z0-9]/g,"");i.classList.add("to-do-item"),i.classList.add(`${o}`),i.classList.add(`id-${e}-${o}-${n}`),i.innerHTML=`\n        <div class="title">\n            <div class="heading">${t}</div>\n            <div class="options">\n                <div class="rename">Rename</div>\n                <div class="remove">Remove</div>\n            </div>\n        </div>\n        `,"high"===o?r.highContent.appendChild(i):"medium"===o?r.mediumContent.appendChild(i):"low"===o&&r.lowContent.appendChild(i),document.querySelector(`.id-${e}-${o}-${n} .rename `).addEventListener("click",(()=>{a.CreateModal("rename",t.split(" ").join("-")),r.Load("rename"),r.projectRename.background.addEventListener("click",(()=>{a.DeleteModal()})),r.projectRename.close.addEventListener("click",(()=>{a.DeleteModal()})),r.projectRename.rename.addEventListener("click",(()=>{r.Load("rename"),""!==r.projectRename.inputValue&&(document.querySelector(`.id-${e}-${o}-${n} .heading`).textContent=r.projectRename.inputValue,s.Rename(e,t,o,r.projectRename.inputValue),a.DeleteModal())}))})),document.querySelector(`.id-${e}-${o}-${n} .remove`).addEventListener("click",(()=>{document.querySelector(`.id-${e}-${o}-${n}`).remove(),s.Remove(e,t,o),b(),y()}))}},p=new n;let h=d("high"),v=d("medium"),g=d("low");function y(){h>0?m.highWarning.classList.add("not-visible"):0===h&&m.highWarning.classList.remove("not-visible"),v>0?m.mediumWarning.classList.add("not-visible"):0===v&&m.mediumWarning.classList.remove("not-visible"),g>0?m.lowWarning.classList.add("not-visible"):0===g&&m.lowWarning.classList.remove("not-visible")}function b(){h=d("high"),v=d("medium"),g=d("low"),m.hCount.textContent=h,m.mCount.textContent=v,m.lCount.textContent=g}m.hCount.textContent=h,m.mCount.textContent=v,m.lCount.textContent=g,y(),window.addEventListener("load",(()=>{p.LoadALLTODOs("high"),p.LoadALLTODOs("medium"),p.LoadALLTODOs("low")}))})();